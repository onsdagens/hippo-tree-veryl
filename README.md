# Hippomenes Tree

## WiP
This implementation is still a WiP and minimally useful.

## Description
This is a pure Veryl implementation of an arbitration tree intended for the [Hippomenes](https://github.com/perlindgren/hippomenes) NCLIC interrupt controller.

The tree takes an array of signals, and returns the *index* of the smallest/largest value. If only the actual underlying value is of interest,
one could remove the index tracking, slightly improving the design, however, for our use case this is out of scope.

The original SystemVerilog implementation is available [here](https://github.com/onsdagens/hippomenes-tree).

## Building

For transpiling to SystemVerilog, Veryl is required. An installation guide is available [here](https://veryl-lang.org/install/).

With Veryl installed, transpiling can be done by 
```
veryl build
```
which results in a `./src/tree.sv` file.

## Testing

A simple testbench is included in the `./src/tests.veryl` file. For simulation, [Verilator] is required. An installation guide is available [here](https://verilator.org/guide/latest/install.html).

With Verilator and Veryl installed, the testbench can be ran using
```
veryl test
```

Waveforms can also be generated by running
```
veryl test --wave
```
which results in a `./src/generic_test.vcd`. This can be opened by some waveform viewer (we recommend [Surfer](https://gitlab.com/surfer-project/surfer)).